mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp,color=continent))+
geom_line()
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp,color=continent))+
geom_point()
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5))+
facet_wrap(~continent)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_line()
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp,color=continent))+
geom_line()
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5))+
facet_grid(~continent)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp,color=continent))+
geom_boxplot()
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5))+
facet_wrap(~continent)
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5))+
facet_grid(~continent)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp,color=continent))+
geom_boxplot()
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5))+
facet_grid(~continent)
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p
p + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q<-homerange%>%
filter(!is.na(log10.mass),!is.na(log10.preymass))%>%
ggplot(aes(x=log10.mass,y=log10.preymass,color=taxon))+
geom_point()
q + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Comparison of mass and preymass",
x=NULL,
y=NULL,
color= "Taxon")
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
install.packages("ggthemes")
library(ggthemes)
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
p +
theme_fivethirtyeight()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q +
theme_economist()
display.brewer.pal(3,"Blues") #sequential palette
?RColorBrewer
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
?RColorBrewer
display.brewer.pal(3,"Blues") #sequential palette
p+scale_fill_brewer(palette = "Paired")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q+scale_colour_brewer(palette = "Paired")
colors <- paletteer::palettes_d_names
my_palette <- paletteer_d("ggsci::nrc_npg")
barplot(rep(1,6), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_wrap(~trophic.guild)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_grid(~trophic.guild)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_grid(trophic.guild~thermoregulation)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5))+
facet_grid(~continent)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5))+
facet_grid(~continent)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_text(angle = 60))+
facet_grid(~continent)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5),
axis.text.x = element_text(angle = 60))+
facet_grid(~continent)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5),
axis.text.x = element_text(angle = 60,hjust = 1))+
facet_grid(~continent)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5),
axis.text.x = element_text(angle = 60,hjust = 1))+
facet_wrap(~continent)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5),
axis.text.x = element_text(angle = 60,hjust = 1))+
facet_grid(~continent)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_grid(trophic.guild~)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_grid(~trophic.guild)
gapminder%>%
ggplot(aes(x=gdpPercap,y=lifeExp))+
geom_point()
gapminder%>%
ggplot(aes(x=gdpPercap,y=lifeExp))+
geom_point()+
geom_smooth(method=lm, se=T)
gapminder%>%
ggplot(aes(x=gdpPercap,y=lifeExp))+
geom_point()
gapminder%>%
group_by(country,year)%>%
summarise(pop=pop)
gapminder%>%
filter(year==1952|year==2007)
group_by(country,year)%>%
summarise(pop=pop)
gapminder%>%
filter(year==1952|year==2007)%>%
group_by(country,year)%>%
summarise(popsize=pop)
popchange<-gapminder%>%
filter(year==1952|year==2007)
View(popchange)
popchange<-gapminder%>%
select(country,year,pop)
filter(year==1952|year==2007)
popchange<-gapminder%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)
popchange%>%
pivot_wider(names_from = year,values_from = pop)
popchange<-gapminder%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)
popchange%>%
pivot_wider(names_from = year,values_from = pop)%>%
mutate(pop_change=2007-1952)
popchange%>%
pivot_wider(names_from = year,values_from = pop)%>%
mutate(pop_change="2007"-"1952")
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)
popchange%>%
pivot_wider(names_from = year,values_from = pop)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
popchange%>%
mutate(popchange=2007-1952)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
popchange%>%
mutate(popchange='2007'-'1952')
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
popchange%>%
mutate(2007=year2007,1952=year1952)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
popchange%>%
mutate(2007="year2007",1952="year1952")
colnames(popchange)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)%>%
mutate(pop_change='2007'-'1952')
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)%>%
mutate(change='2007'-'1952')
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
str(popchange)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
colnames(popchange)<-as.factor(popchange)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
colnames(popchange)<-as.character(popchange)
str(popchange)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
colnames(popchange)<-as.character(popchange)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year==1952|year==2007)%>%
pivot_wider(names_from = year,values_from = pop)
popchange$1952<-as.factor(popchange$1952)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year=='1952'|year=='2007')%>%
pivot_wider(names_from = year,values_from = pop)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year=='1952'|year=='2007')%>%
pivot_wider(names_from = year,values_from = pop)
popchange$1952
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
select(country,year,pop)%>%
filter(year=='1952'|year=='2007')
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
filter(year=='1952'|year=='2007')%>%
mutate(year1=case_when(year==1952~"year1952",
year==2007~"year2007"))
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
filter(year=='1952'|year=='2007')%>%
mutate(year1=case_when(year==1952~"year1952",
year==2007~"year2007"))%>%
select(country,year1,pop)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
filter(year=='1952'|year=='2007')%>%
mutate(year1=case_when(year==1952~"year1952",
year==2007~"year2007"))%>%
select(country,year1,pop)%>%
pivot_wider(names_from = year1,values_from = pop)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
filter(year=='1952'|year=='2007')%>%
mutate(year1=case_when(year==1952~"year1952",
year==2007~"year2007"))%>%
select(country,year1,pop)%>%
pivot_wider(names_from = year1,values_from = pop)
popchange<-gapminder%>%
mutate(year=as.factor(year))%>%
filter(year=='1952'|year=='2007')%>%
mutate(year1=case_when(year==1952~"year1952",
year==2007~"year2007"))%>%
select(country,year1,pop)%>%
pivot_wider(names_from = year1,values_from = pop)%>%
mutate(changepop=year2007-year1952)
popchange%>%
mutate(changepop=year2007-year1952)%>%
arrange(changepop)
popchange%>%
mutate(changepop=year2007-year1952)%>%
arrange(desc(changepop))
gapminder%>%
filter(country=="China"|country=="India"|country=="United States"|country=="Indonesia"|country=="Brazil")
gapminder%>%
filter(country=="China"|country=="India"|country=="United States"|country=="Indonesia"|country=="Brazil")%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year, y=pop,color=country))%>%
geom_line()
gapminder%>%
filter(country=="China"|country=="India"|country=="United States"|country=="Indonesia"|country=="Brazil")%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year, y=pop,color=country))+
geom_line()
gapminder%>%
filter(country=="China"|country=="India"|country=="United States"|country=="Indonesia"|country=="Brazil")%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year, y=pop,color=country))+
geom_col()
gapminder%>%
filter(country=="China"|country=="India"|country=="United States"|country=="Indonesia"|country=="Brazil")%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year, y=pop,fill=country))+
geom_col()
gapminder%>%
filter(country=="China"|country=="India"|country=="United States"|country=="Indonesia"|country=="Brazil")%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year, y=pop,fill=country))+
geom_col(position = "dodge")
gapminder%>%
filter(country=="China"|country=="India"|country=="United States"|country=="Indonesia"|country=="Brazil")%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=gdpPercap, y=pop,fill=country))+
geom_col(position = "dodge")
gapminder%>%
filter(country=="China"|country=="India"|country=="United States"|country=="Indonesia"|country=="Brazil")%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year, y=gdpPercap,fill=country))+
geom_col(position = "dodge")
summary(gapminder$gdpPercap)
summary(gapminder$pop)
gapminder%>%
mutate(gdp_category=case_when(gdpPercap<=1202.1~"Poor",
gdpPercap>1202.1&gdpPercap<=7215.3~"Medium",
gdpPercap>7215.3~"Rich"))%>%
mutate(pop_category=case_when(pop<=2793664~"Deserted",
pop>2793664&pop<=7023596~"Medium",
pop>7023596~"Crowded"))
gapminder%>%
mutate(gdp_category=case_when(gdpPercap<=1202.1~"Poor",
gdpPercap>1202.1&gdpPercap<=7215.3~"Medium",
gdpPercap>7215.3~"Rich"))%>%
mutate(pop_category=case_when(pop<=2793664~"Deserted",
pop>2793664&pop<=7023596~"Medium",
pop>7023596~"Crowded"))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
facet_grid(pop_category~gdp_category)
gapminder%>%
mutate(year=as.factor(year))%>%
mutate(gdp_category=case_when(gdpPercap<=1202.1~"Poor",
gdpPercap>1202.1&gdpPercap<=7215.3~"Medium",
gdpPercap>7215.3~"Rich"))%>%
mutate(pop_category=case_when(pop<=2793664~"Deserted",
pop>2793664&pop<=7023596~"Medium",
pop>7023596~"Crowded"))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
facet_grid(pop_category~gdp_category)
gapminder%>%
mutate(year=as.factor(year))%>%
mutate(gdp_category=case_when(gdpPercap<=1202.1~"Poor",
gdpPercap>1202.1&gdpPercap<=7215.3~"Medium",
gdpPercap>7215.3~"Rich"))%>%
mutate(pop_category=case_when(pop<=2793664~"Deserted",
pop>2793664&pop<=7023596~"Medium",
pop>7023596~"Crowded"))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
facet_grid(pop_category~gdp_category)+
theme(axis.text.x = element_text(angle = 60,hjust = 1))
gapminder%>%
mutate(year=as.factor(year))%>%
mutate(gdp_category=case_when(gdpPercap<=1202.1~"Poor",
gdpPercap>1202.1&gdpPercap<=7215.3~"Medium",
gdpPercap>7215.3~"Rich"))%>%
mutate(pop_category=case_when(pop<=2793664~"Deserted",
pop>2793664&pop<=7023596~"Medium",
pop>7023596~"Crowded"))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
facet_grid(pop_category~gdp_category)+
labs(title = "Life Expectancy Changes in Categorized by GDP and Population")+
theme(axis.title = element_text(hjust = 0.5),
axis.text.x = element_text(angle = 60,hjust = 1))
gapminder%>%
mutate(year=as.factor(year))%>%
mutate(gdp_category=case_when(gdpPercap<=1202.1~"Poor",
gdpPercap>1202.1&gdpPercap<=7215.3~"Medium",
gdpPercap>7215.3~"Rich"))%>%
mutate(pop_category=case_when(pop<=2793664~"Deserted",
pop>2793664&pop<=7023596~"Medium",
pop>7023596~"Crowded"))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
facet_grid(pop_category~gdp_category)+
labs(title = "Life Expectancy Changes in Categorized by GDP and Population")+
theme(axis.title = element_text(hjust = 1),
axis.text.x = element_text(angle = 60,hjust = 1))
gapminder%>%
mutate(year=as.factor(year))%>%
mutate(gdp_category=case_when(gdpPercap<=1202.1~"Poor",
gdpPercap>1202.1&gdpPercap<=7215.3~"Medium",
gdpPercap>7215.3~"Rich"))%>%
mutate(pop_category=case_when(pop<=2793664~"Deserted",
pop>2793664&pop<=7023596~"Medium",
pop>7023596~"Crowded"))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
facet_grid(pop_category~gdp_category)+
labs(title = "Life Expectancy Changes in Categorized by GDP and Population")+
theme(plot.title = element_text(hjust = 0.5),
axis.text.x = element_text(angle = 60,hjust = 1))
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_point()+
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5))
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
labs(title = "Global life expectancy from 1952 to 2007")+
theme(plot.title = element_text(hjust = 0.5))
install.packages("ggthemes")
library(ggthemes)
install.packages("ggthemes")
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
