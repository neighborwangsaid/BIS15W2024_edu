install.packages("RColorBrewer")
install.packages("paletteer")
install.packages("ggthemes")
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
deserts <- read_csv("data/surveys_complete.csv")
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
homerange%>%
ggplot(aes(x=taxon,y=log10.mass))+
geom_boxplot()
homerange%>%
ggplot(aes(x=taxon,y=log10.mass))+
geom_boxplot()+
scale_fill_manual(values = brewer.pal(2,"Set1"))
homerange%>%
ggplot(aes(x=taxon,y=log10.mass))+
geom_boxplot()+
scale_fill_manual(values = brewer.pal(3,"Set1"))
homerange%>%
ggplot(aes(x=taxon,y=log10.mass, fill=taxon))+
geom_boxplot()
homerange%>%
group_by(taxon)%>%
summarise(minlogmass=min(log10.mass),
maxlogmass=max(log10.mass))
homerange%>%
ggplot(aes(x=taxon,y=log10.mass,group=class))+
geom_boxplot()
homerange%>%
ggplot(aes(x=taxon,y=log10.mass,fill=class))+
geom_boxplot()
View(homerange)
deserts%>%
filter(species_id=="DM"|species_id=="DS")
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
pivot_wider(names_from = species_id,values_from = n)
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
ggplot(aes(x=year, y=n,group=species_id))
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
ggplot(aes(x=year, y=n,group=species_id, color=species_id))+
geom_line()
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
ggplot(aes(x=year, y=n,group=species_id, color=species_id))+
geom_line()+
geom_point()
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
ggplot(aes(x=year, y=n,group=species_id, color=species_id))+
geom_line()+
geom_point(shape=2)
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
ggplot(aes(x=year, y=n,group=species_id, color=species_id))+
geom_line()+
geom_point(shape=3)
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
ggplot(aes(x=year, y=n,group=species_id, color=species_id))+
geom_line()+
geom_point(shape=3)+
theme(axis.text.x = element_text(angle = 60,hjust = 1))
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
ggplot(aes(x=year, y=n,group=species_id, color=species_id))+
geom_line()+
geom_point(shape=3)+
theme(axis.text.x = element_text(angle = 60))
,hjust = 1
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
ggplot(aes(x=year, y=n,group=species_id, color=species_id))+
geom_line()+
geom_point(shape=3)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
deserts%>%
filter(species_id=="DM"|species_id=="DS")%>%
mutate(year=as.factor(year))%>%
group_by(year,species_id)%>%
summarise(n=n(),.groups = "keep")%>%
ggplot(aes(x=year, y=n,group=species_id, color=species_id))+
geom_line()+
geom_point(shape=3)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "number changes over year")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram()+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(bins = 20)+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
grDevices::colors()
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "turquoise4", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black",  bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "blue", fill = "turquoise4", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "blue", fill = "tomato", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density(fill="deepskyblue4", alpha  =0.4, color = "black")+ #alpha is the transparency
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x=log10.mass)) +
geom_histogram(aes(y = after_stat(density)), fill = "deepskyblue4", alpha = 0.4, color = "black")+
geom_density(color = "red")+
labs(title = "Distribution of Body Mass")
homerange%>%
ggplot(aes(x=log10.hra))%>%
geom_histogram(color = "blue", fill = "tomato", bins=10)+
theme(title = "log10.hra histogram")
homerange%>%
ggplot(aes(x=log10.hra))+
geom_histogram(color = "blue", fill = "tomato", bins=10)+
theme(title = "log10.hra histogram")
homerange%>%
ggplot(aes(x=log10.hra))+
geom_histogram(color = "blue", fill = "tomato", bins=10)+
theme(title = log10.hra histogram)
homerange%>%
ggplot(aes(x=log10.hra))+
geom_histogram(color = "blue", fill = "tomato", bins=10)+
labs(title = "log10.hra histogram")
homerange%>%
ggplot(aes(x=log10.hra))+
geom_histogram(color = "blue", fill = "tomato", bins=10)+
labs(title = "log10.hra histogram")+
theme(axis.title = element_text(hjust = 0.5))
homerange%>%
ggplot(aes(x=log10.hra))+
geom_histogram(color = "blue", fill = "tomato", bins=10)+
labs(title = "log10.hra histogram")+
theme(plot.title = element_text(hjust = 0.5))
homerange%>%
ggplot(aes(x=log10.hra))+
geom_density(color = "blue", fill = "tomato", alpha=0.5)
homerange %>%
ggplot(aes(x=log10.hra)) +
geom_histogram(aes(y = after_stat(density)), fill = "deepskyblue4", alpha = 0.4, color = "snow")+
geom_density(color = "red")+
labs(title = "Distribution of homerange")
homerange %>%
ggplot(aes(x=log10.hra)) +
geom_histogram(aes(y = after_stat(density)), fill = "deepskyblue4", alpha = 0.4, color = "snow")+
geom_density(color = "red")+
labs(title = "Distribution of homerange")+
theme(plot.title = element_text(hjust = 0.5))
homerange %>%
ggplot(aes(x=log10.hra)) +
geom_histogram(aes(y = after_stat(density)), fill = "deepskyblue4", alpha = 0.5, color = "snow")+
geom_density(color = "red")+
labs(title = "Distribution of homerange")+
theme(plot.title = element_text(hjust = 0.5))
homerange %>%
ggplot(aes(x=log10.hra)) +
geom_histogram(aes(y = after_stat(density)), fill = "deepskyblue4", alpha = 1, color = "snow")+
geom_density(color = "red")+
labs(title = "Distribution of homerange")+
theme(plot.title = element_text(hjust = 0.5))
homerange %>%
ggplot(aes(x=log10.hra)) +
geom_histogram(aes(y = after_stat(density)), fill = "deepskyblue4", alpha = 0.5, color = "snow")+
geom_density(color = "red")+
labs(title = "Distribution of homerange")+
theme(plot.title = element_text(hjust = 0.5))
homerange%>%
select(log10.mass)%>%
summarise(min=min(log10.mass),
max=max(log10.mass))
summary(homerange$log10.mass)
homerange%>%
mutate(mass_category=case_when(log10.mass<=1.75~"small"))
homerange%>%
mutate(mass_category=case_when(log10.mass<=1.75~"small",
log10.mass>1.75&log10.mass<2.75~"medium",
log10.mass>2.75~"large"))
homerange%>%
mutate(mass_category=case_when(log10.mass<=1.75~"small",
log10.mass>1.75&log10.mass<2.75~"medium",
log10.mass>2.75~"large"))%>%
ggplot(aes(x=mass_category,fill=trophic.guild))+
geom_bar(position = "dodge")
summary(homerange$log10.hra)
homerange%>%
mutate(hra_category=case_when(log10.hra<=3.653~"very small",
log10.hra>3.653&log10.hra<=4.709~"small",
log10.hra>4.709&log10.mass<6.016~"medium",
log10.hra>6.016~"large"))
homerange%>%
mutate(hra_category=case_when(log10.hra<=3.653~"very small",
log10.hra>3.653&log10.hra<=4.709~"small",
log10.hra>4.709&log10.mass<6.016~"medium",
log10.hra>6.016~"large"))%>%
ggplot(aes(x=hra_category,fill=class))+
geom_bar(position = "dodge")
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"very small",
log10.hra>3.653&log10.hra<=4.709~"small",
log10.hra>4.709&log10.mass<6.016~"medium",
log10.hra>6.016~"large"))
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"very small",
log10.hra>3.653&log10.hra<=4.709~"small",
log10.hra>4.709&log10.mass<6.016~"medium",
log10.hra>6.016~"large"))%>%
ggplot(aes(x=hra_category,fill=class))+
geom_bar(position = "dodge")
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"very small",
log10.hra>3.653&log10.hra<=4.709~"small",
log10.hra>4.709&log10.mass<6.016~"medium",
log10.hra>6.016~"large"))%>%
ggplot(aes(x=range_category,fill=class))+
geom_bar(position = "dodge")
install.packages("gtools")
library(gtools)
library(gtools)
summary(homerange$log10.hra)
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"very small",
log10.hra>3.653&log10.hra<=4.709~"small",
log10.hra>4.709&log10.mass<6.016~"medium",
log10.hra>6.016~"large"))%>%
ggplot(aes(x=range_category,fill=class))+
geom_bar(position = "dodge")
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"very small",
log10.hra>3.653&log10.hra<=4.709~"small",
log10.hra>4.709&log10.mass<6.016~"edium",
log10.hra>6.016~"large"))%>%
ggplot(aes(x=range_category,fill=class))+
geom_bar(position = "dodge")
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"very small",
log10.hra>3.653&log10.hra<=4.709~"small",
log10.hra>4.709&log10.mass<6.016~"medium",
log10.hra>6.016~"large"))%>%
ggplot(aes(x=range_category,fill=class))+
geom_bar(position = "dodge")
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"very small",
log10.hra>3.653&log10.hra<=4.709~"small",
log10.hra>4.709&log10.mass<6.016~"medium",
log10.hra>6.016~"large"))%>%
filter(range_category=="small")%>%
ggplot(aes(x=log10.mass, fill=class))+
geom_boxplot()
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
View(p)
p + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
homerange%>%
ggplot(aes(x=log10.mass,y=log10.preymass,fill=taxon))+
geom_point()
homerange%>%
ggplot(aes(x=log10.mass,y=log10.preymass,color=taxon))+
geom_point()
q<-homerange%>%
ggplot(aes(x=log10.mass,y=log10.preymass,color=taxon))+
geom_point()
homerange%>%
ggplot(aes(x=log10.mass,y=log10.preymass,color=taxon))+
geom_point()
p
q + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Comparison of mass and preymass",
fill= "Taxon")
q + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Comparison of mass and preymass",
fill= "Taxon")
q + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Comparison of mass and preymass",
fill= "Taxon")
q + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Comparison of mass and preymass",
x=NULL,
y=NULL,
fill= "Taxon")
q<-homerange%>%
filter(!is.na(log10.mass),!is.na(log10.preymass))%>%
ggplot(aes(x=log10.mass,y=log10.preymass,color=taxon))+
geom_point()
q + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Comparison of mass and preymass",
x=NULL,
y=NULL,
fill= "Taxon")
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
install.packages("ggthemes")
library(ggthemes)
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
p +
theme_fivethirtyeight()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q +
theme_fivethirtyeight()
q +
theme_economist()
?RColorBrewer
display.brewer.pal(3,"Blues") #sequential palette
p+scale_fill_brewer(palette = "Paired")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q+scale_fill_brewer(palette = "Paired")
q+scale_fill_brewer(palette = "Accent")
q+scale_fill_brewer(palette = "Set3")
q+scale_colour_brewer(palette = "Set3")
q+scale_colour_brewer(palette = "Paired")
colors <- paletteer::palettes_d_names
my_palette <- paletteer_d("ggsci::nrc_npg")
barplot(rep(1,6), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Comparison of mass and preymass",
x=NULL,
y=NULL,
color= "Taxon")
View(colors)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_wrap(~trophic.guild)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_wrap(~trophic.guild)
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_wrap(~trophic.guild)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_wrap(~.trophic.guild)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_wrap(.~trophic.guild)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_wrap(~trophic.guild)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_wrap(trophic.guild~)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_grid(trophic.guild~)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_grid(trophic.guild~thermoregulation)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_grid(~trophic.guild)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
facet_grid(trophic.guild~thermoregulation)
